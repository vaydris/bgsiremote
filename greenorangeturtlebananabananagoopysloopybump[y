-- Pet Spawner GUI for BGSI
print("Pet Spawner GUI Loaded!")

-- Create GUI Elements
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextBox = Instance.new("TextBox")
local SpawnButton = Instance.new("TextButton")
local CloseButton = Instance.new("TextButton")  -- Close button (X)

-- Set up the ScreenGui
ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui
ScreenGui.Name = "PetSpawnerGUI"

-- Set up the Frame
Frame.Parent = ScreenGui
Frame.Size = UDim2.new(0, 300, 0, 200)
Frame.Position = UDim2.new(0.5, -150, 0.5, -100)
Frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)

-- Set up the Close Button (X)
CloseButton.Parent = Frame
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -40, 0, 10)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 20

-- Set up the TextBox (for entering the pet name)
TextBox.Parent = Frame
TextBox.Size = UDim2.new(0, 260, 0, 40)  -- Make sure the TextBox size is correctly set
TextBox.Position = UDim2.new(0, 20, 0, 30)
TextBox.PlaceholderText = "Enter Pet Name"

-- Set up the Spawn Button
SpawnButton.Parent = Frame
SpawnButton.Size = UDim2.new(0, 260, 0, 40)
SpawnButton.Position = UDim2.new(0, 20, 0, 80)
SpawnButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
SpawnButton.Text = "Spawn Pet"
SpawnButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SpawnButton.TextSize = 20

-- Function to close the GUI when the Close button is clicked
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Example pet models stored in ServerStorage (replace with actual models/IDs)
local petModels = {
    ["Dog"] = game.ServerStorage.Pets:FindFirstChild("DogPetModel"),   -- Replace with actual pet names and models
    ["Cat"] = game.ServerStorage.Pets:FindFirstChild("CatPetModel"),   -- Replace with actual pet names and models
    ["Dragon"] = game.ServerStorage.Pets:FindFirstChild("DragonPetModel"), -- Replace with actual pet names and models
}

-- Function to spawn the pet when the Spawn button is clicked
SpawnButton.MouseButton1Click:Connect(function()
    local petName = TextBox.Text
    if petName and petName ~= "" then
        local petModel = petModels[petName]  -- Look up the pet model by name

        if petModel then
            print("Spawning pet: " .. petName)
            
            -- Clone the pet model and set its parent to the workspace
            local newPet = petModel:Clone()
            newPet.Parent = game.Workspace
            
            -- Optionally, you can set the pet's position relative to the player
            newPet:SetPrimaryPartCFrame(game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame)
        else
            print("Pet model not found!")
        end
    else
        print("Please enter a pet name.")
    end
end)
